<div class="container profile-user-edit">

    <div>
        <a ui-sref="edit-password({firstName: userVm.user.firstName})">Edit current user's password</a>
    </div>
    <div>
        <a ui-sref="edit-user({firstName: 'Mehdi'})">Edit Mehdi's user profile</a>
    </div>
    <div>
        <a ui-sref="edit-user({firstName: 'Anne'})">Edit Anne's user profile</a>
    </div>

    <div class="page">
        <div class="row">

            <div class="col-md-8">
                <h1>Edit user profile</h1>
                <form name="userForm" novalidate>
                    <div class="row">
                        <div class="col-md-4">
                            <div class="form-group required">
                                <label class="control-label">First name</label>
                                <input name="firstName" required minlength="2" class="form-control" type="text" ng-model="userVm.user.firstName">
                                <!-- using attribute directives -->
                                <div ng-messages="userForm.firstName.$error" role="alert" class="error" ng-if="userForm.firstName.$touched || userForm.$submitted">
                                    <div ng-message="required">First name is required.</div>
                                    <div ng-message="minlength">First name should contains at least 2 characters.</div>
                                </div>
                            </div>
                        </div>
                        <div class="col-md-4">
                            <div class="form-group required">
                                <label class="control-label">Last name</label>
                                <input name="lastName" required minlength="3" class="form-control" type="text" ng-model="userVm.user.lastName">
                                <div ng-messages="userForm.lastName.$error" role="alert" class="error" ng-if="userForm.lastName.$touched || userForm.$submitted">
                                    <div ng-message="required">Last name is required.</div>
                                    <div ng-message="minlength">Last name should contains at least 3 characters.</div>
                                </div>
                            </div>
                        </div>
                        <div class="col-md-4">
                            <div class="form-group required">
                                <label class="control-label">Email</label>
                                <input name="email" required class="form-control" type="email" ng-model="userVm.user.email">
                                <div ng-messages="userForm.email.$error" role="alert" class="error" ng-if="userForm.lastemailName.$touched || userForm.$submitted">
                                    <div ng-message="required">Email is required.</div>
                                    <div ng-message="email">Email is invalid.</div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-md-4">
                            <div class="form-group">
                                <label class="control-label">Gender</label>
                                <select name="gender" class="form-control" ng-model="userVm.user.gender">
                                    <option value="female">Female</option>
                                    <option value="male">Male</option>
                                </select>
                            </div>
                        </div>
                        <div class="col-md-4">
                            <div class="form-group">
                                <label class="control-label">Birthdate</label>
                                <input name="birthdate" class="form-control" type="text" ng-model="userVm.user.birthdate" bs-datepicker data-date-format="yyyy-MM-dd" data-max-date="today" data-autoclose="1">
                                <div ng-messages="userForm.birthdate.$error" role="alert" class="error" ng-if="userForm.birthdate.$touched || userForm.$submitted">
                                    <div ng-message="date">Birthdate is invalid.</div>
                                </div>
                            </div>
                        </div>
                        <div class="col-md-2">
                            <div class="form-group employed-form-group">
                                <label class="control-label">Employed</label>
                                <input class="form-control" type="checkbox" ng-model="userVm.user.employed" ng-change="userVm.employedUpdated()">
                            </div>
                        </div>
                        <div class="col-md-2" ng-show="userVm.user.employed">
                            <div class="form-group">
                                <label class="control-label">Salary</label>
                                <input name="salary" class="form-control" type="number" ng-model="userVm.user.salary">
                            </div>
                        </div>
                    </div>
                    <div class="row text-center actions-bar">
                        <div class="col-md-3 col-md-offset-3">
                            <a ng-click="userVm.submit(userForm)" class="btn btn-lg btn-ok large outline">
                                <i class="glyphicon glyphicon-check"></i> Save
                            </a>
                        </div>
                        <div class="col-md-3">
                            <a ng-click="userVm.reset();userForm.$setPristine();userForm.$setUntouched();" class="btn btn-lg btn-cancel large outline">
                                <i class="glyphicon glyphicon-remove"></i> Reset
                            </a>
                        </div>
                    </div>
                </form>
            </div>

            <div class="col-md-4">
                <h1>Profile preview</h1>

                <table class="table table-striped table-condensed">
                    <tbody>
                        <tr>
                            <th>Name</th>
                            <td ng-class="'gender-' + userVm.user.gender">{{ userVm.getFullName() }}</td>
                            <!-- or: ng-class="{ 'gender-male': userVm.user.gender === 'male',  'gender-female': userVm.user.gender === 'female' }">-->
                        </tr>
                        <tr>
                            <th>Email</th>
                            <td>{{ userVm.user.email }}</td>
                        </tr>
                        <tr>
                            <th>Birthdate</th>
                            <td>{{ userVm.user.birthdate | date: 'yyyy-MM-dd' }}</td>
                        </tr>
                        <tr>
                            <th>Age</th>
                            <td>{{ userVm.getAgeInYears() }}</td>
                        </tr>
                        <tr>
                            <th>Gender</th>
                            <td>{{ userVm.user.gender }}</td>
                        </tr>
                        <tr>
                            <th>Salary</th>
                            <td>{{ userVm.user.salary | currency }}</td>
                        </tr>
                    </tbody>
                </table>

            </div>
        </div>

    </div>

</div>